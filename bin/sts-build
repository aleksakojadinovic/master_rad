#!/bin/sh

SERVICES=( "api" "ssr" "etl" )

if [[ ! " ${SERVICES[*]} " =~ " $1 " ]]; then
    echo "next: Service $1 is not defined."
    exit 1
fi


if [ "$1" == "api" ];
then
    docker build -f ./services/api-main/docker/Dockerfile.production -t sts-api-main:latest ./services/api-main
    exit 0
fi


if [ "$1" == "ssr" ];
then
    docker build -f ./services/ssr/docker/Dockerfile.production -t sts-ssr:latest ./services/ssr
    exit 0
fi

if [ "$1" == "etl" ];
then
    docker build -f ./services/etl/docker/Dockerfile -t sts-etl:latest ./services/etl
    exit 0
fi

